- job:
    name: networking-odl-config-job
    description: Fake job to hold configuration settings for jobs
    vars:
      odl_version_map:
        oxygen: &oxygen oxygen-latest
        fluorine: &fluorine fluorine-snapshot-0.9
      common_devstack_vars: &devstack_vars
        devstack_localrc:
          ODL_TIMEOUT: 60
          ODL_RELEASE: latest-snapshot
          # Set here which ODL openstack service provider to use
          ODL_NETVIRT_KARAF_FEATURE: odl-neutron-service,odl-restconf-all,odl-aaa-authn,odl-dlux-core,odl-mdsal-apidocs,odl-netvirt-openstack,odl-neutron-logger,odl-neutron-hostconfig-ovs
          # Switch to using the ODL's L3 implementation
          ODL_L3: True
          # public network connectivity
          ODL_PROVIDER_MAPPINGS: public:br-ex
          PUBLIC_PHYSICAL_NETWORK: public
          PUBLIC_BRIDGE: br-ex
          Q_USE_PUBLIC_VETH: False
          # Enable debug logs for odl ovsdb
          ODL_NETVIRT_DEBUG_LOGS: True
          # Database
          MYSQL_PASSWORD: secretmysql
          DATABASE_QUERY_LOGGING: True
          OS_LOG_PATH: '{{ zuul.executor.log_root }}'
          IS_GATE: True
        devstack_services: &devstack_services
          c-api: True
          c-bak: True
          c-sch: True
          c-vol: True
          cinder: True
          dstat: True
          g-api: True
          g-reg: True
          horizon: False
          key: True
          mysql: True
          n-api-meta: True
          n-api: True
          n-cauth: False
          n-cond: True
          n-cpu: True
          n-crt: True
          n-novnc: False
          n-obj: True
          n-sch: True
          neutron: True
          neutron-agent: False
          neutron-api: True
          neutron-dhcp: True
          neutron-l3: False
          neutron-metadata-agent: True
          neutron-qos: True
          placement-api: True
          placement-client: False
          q-agt: False
          q-dhcp: False
          q-l3: False
          q-meta: False
          q-svc: False
          rabbit: True
        devstack_plugins: &devstack_plugins
          networking-odl: git://git.openstack.org/openstack/networking-odl
          neutron: git://git.openstack.org/openstack/neutron

- job:
    name: networking-odl-grenade-dsvm
    parent: legacy-dsvm-base
    run: playbooks/legacy/grenade-dsvm-networking-odl/run.yaml
    post-run: playbooks/legacy/grenade-dsvm-networking-odl/post.yaml
    timeout: 9000
    required-projects:
      - openstack/grenade
      - openstack/devstack-gate
      - openstack/networking-odl

- job:
    name: networking-odl-tempest-dsvm-boron-snapshot-v2driver
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-networking-odl-boron-snapshot-v2driver/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-networking-odl-boron-snapshot-v2driver/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-odl
      - openstack/tempest

- job:
    name: networking-odl-tempest-dsvm-carbon-snapshot-vpnservice-v2driver
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-networking-odl-carbon-snapshot-vpnservice-v2driver/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-networking-odl-carbon-snapshot-vpnservice-v2driver/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-odl
      - openstack/tempest

- job:
    name: networking-odl-tempest-dsvm-nitrogen-snapshot-vpnservice-v2driver
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-networking-odl-nitrogen-snapshot-vpnservice-v2driver/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-networking-odl-nitrogen-snapshot-vpnservice-v2driver/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-odl
      - openstack/tempest

- job:
    name: networking-odl-tempest-dsvm-multinode-carbon-snapshot
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/tempest-dsvm-networking-odl-multinode-carbon-snapshot/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-networking-odl-multinode-carbon-snapshot/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-odl
      - openstack/tempest
    nodeset: legacy-ubuntu-xenial-2-node

- job:
    name: networking-odl-tempest-dsvm-multinode-nitrogen-snapshot
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/tempest-dsvm-networking-odl-multinode-nitrogen-snapshot/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-networking-odl-multinode-nitrogen-snapshot/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-odl
      - openstack/tempest
    nodeset: legacy-ubuntu-xenial-2-node

- job:
    name: networking-odl-rally-dsvm-carbon-snapshot
    parent: legacy-dsvm-base
    run: playbooks/legacy/rally-dsvm-networking-odl-carbon-snapshot/run.yaml
    post-run: playbooks/legacy/rally-dsvm-networking-odl-carbon-snapshot/post.yaml
    timeout: 7500
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-odl
      - {"name": "openstack/rally", "override-checkout": "0.12.1"}

- job:
    name: networking-odl-rally-dsvm-nitrogen-snapshot
    parent: legacy-dsvm-base
    run: playbooks/legacy/rally-dsvm-networking-odl-nitrogen-snapshot/run.yaml
    post-run: playbooks/legacy/rally-dsvm-networking-odl-nitrogen-snapshot/post.yaml
    timeout: 7500
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-odl
      - {"name": "openstack/rally", "override-checkout": "0.12.1"}

- job:
    name: networking-odl-dsvm-fullstack-carbon-snapshot
    parent: legacy-dsvm-base
    run: playbooks/legacy/dsvm-networking-odl-fullstack-carbon-snapshot/run.yaml
    post-run: playbooks/legacy/dsvm-networking-odl-fullstack-carbon-snapshot/post.yaml
    timeout: 7800
    required-projects:
      - openstack/networking-odl
      - openstack/networking-l2gw
      - openstack/networking-sfc
      - openstack/networking-bgpvpn

- job:
    name: networking-odl-dsvm-functional-carbon-snapshot
    parent: legacy-dsvm-base
    run: playbooks/legacy/dsvm-networking-odl-functional-carbon-snapshot/run.yaml
    post-run: playbooks/legacy/dsvm-networking-odl-functional-carbon-snapshot/post.yaml
    timeout: 7800
    required-projects:
      - openstack/networking-odl
      - openstack/networking-l2gw
      - openstack/networking-sfc
      - openstack/networking-bgpvpn

- job:
    name: networking-odl-dsvm-fullstack-nitrogen-snapshot
    parent: legacy-dsvm-base
    run: playbooks/legacy/dsvm-networking-odl-fullstack-nitrogen-snapshot/run.yaml
    post-run: playbooks/legacy/dsvm-networking-odl-fullstack-nitrogen-snapshot/post.yaml
    timeout: 7800
    required-projects:
      - openstack/networking-odl
      - openstack/networking-l2gw
      - openstack/networking-sfc
      - openstack/networking-bgpvpn

- job:
    name: networking-odl-dsvm-functional-nitrogen-snapshot
    parent: legacy-dsvm-base
    run: playbooks/legacy/dsvm-networking-odl-functional-nitrogen-snapshot/run.yaml
    post-run: playbooks/legacy/dsvm-networking-odl-functional-nitrogen-snapshot/post.yaml
    timeout: 7800
    required-projects:
      - openstack/networking-odl
      - openstack/networking-l2gw
      - openstack/networking-sfc
      - openstack/networking-bgpvpn

# <<< LEGACY JOBS TO REPLACE
